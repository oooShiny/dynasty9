{#
/**
 * @file
 * Theme override to display a Play entity.
 *
 * Available variables:
 * - play: The play entity.
 * - content: All play items.
 * - attributes: HTML attributes for the containing element.
 * - title_attributes: HTML attributes for the title.
 * - content_attributes: HTML attributes for the content wrapper.
 */
#}
<div class="grid grid-cols-4">
  <div>{{ content.quarter }}</div>
  <div>{{ content.play_description }} {# Highlight Reference #}
    {% if play.play_highlight.entity %}
      {% set highlight = play.play_highlight.entity %}
      {% set video_id = highlight.field_muse_video_id.value %}
      {% if video_id %}
        {% set modal_id = 'video_modal_' ~ play.id.value %}

        <button
          onclick="document.getElementById('{{ modal_id }}').showModal()"
          class="btn btn-sm"
          aria-label="Play highlight video for {{ highlight.label }}">
          <img class="bg-red-100 h-4 inline" src="/themes/custom/dynasty_tw/icons/play-video.svg" />
        </button>

        {# DaisyUI Modal #}
        <dialog id="{{ modal_id }}" class="modal">
          <div class="modal-box w-11/12 max-w-5xl p-0">
            <form method="dialog">
              <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2 z-10">âœ•</button>
            </form>
            <h3 class="font-bold text-lg p-4 pb-2">{{ highlight.label }}</h3>
            <div class="aspect-video w-full">
              <iframe
                src="https://muse.ai/embed/{{ video_id }}?auto=0"
                frameborder="0"
                allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen
                class="w-full h-full"
                title="{{ highlight.label }}"></iframe>
            </div>
          </div>
          <form method="dialog" class="modal-backdrop">
            <button>close</button>
          </form>
        </dialog>
      {% endif %}
    {% endif %}</div>
  <div>{{ content.scoring_team }}</div>
  <div>{{ content.minutes }}:{{ content.seconds }}</div>
</div>

